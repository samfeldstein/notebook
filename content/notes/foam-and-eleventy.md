---
title: Foam and Eleventy
tags: ["eleventy","foam"]
---

## Relative links

Relative links, as generated by Foam, don't work with 11ty's `_site/` output.

Relative links in the source folder (eg `../recipes/cake.md`) don't account for the build output's pretty link structure, which looks like this: `_site/recipes/cake/index.html`. The relative link can't account for that extra `cake/` folder.

I don't think this is a problem with Foam. I think it's a problem with  [[relative-links-and-static-site-generators|SSGs and pretty urls]] . Luckily, [Juan Frank](https://github.com/juanfrank77) figured out how to deal with it in his [Eleventy Foam Template](https://github.com/juanfrank77/foam-eleventy-template). The solution involves regex and [Markdown-It](https://markdown-it.github.io).

## Wikilinks

Eleventy (or any static site generator, probably) doesn't know what to do with wikilinks, so you have to tell it. Again, Juan Frank's solution was helpful here, but he didn't account for pipe notation (as far as I could tell). So a link like this `[note-file-name|Note File Name]` would render like that in the output.

With [Claude's help](https://claude.ai/new), I added a regex that deletes the text to the left of the pipe.

## Private Notes

**Problem:** I want to keep some notes private, but I want to keep them with my public notes so I can link to them in Foam.

**Solution:**  Exclude private notes from Eleventy's build output and git commits.

### Method One

In Eleventy, files added to `.gitignore` are [also ignored by Eleventy](https://www.11ty.dev/docs/ignores/), so they won't show up in the build output.

I've tested this on the local server and it works.

### Exclude from build output

Another way to do this is to keep a folder outside the content folder. That way, 11ty won't even think about touching it. This requires you to run Foam from your 11ty workspace. I don't like this solution, because I like to run Foam from my content folder. So I need the `public` folder to live there.

Mark notes private or have a folder? A folder seems easier to keep track of. Maybe add support for both. That way there's less room for error and they have options.

### Exclude from git

If your repo is private, this step is optional. But if there's a chance you'll ever make your repo public, or if you don't want your private notes on the internet at all, this step is necessary.

Hiding private notes 

- Add `notes/private` to `.gitignore`.
- Update 404 to account for this, or even better, show them a custom 404 for private notes so they know this is exactly what happened.

We need to show the user a page other than 404 when they try to access a private note.

I don't know that this method is foolproof, 

to make private notes work, remove _/site from remote and make sure it's in gitignore

find a way to filter private notes from build output

[//begin]: # "Autogenerated link references for markdown compatibility"
[relative-links-and-static-site-generators|SSGs and pretty urls]: relative-links-and-static-site-generators "Relative Links and Static Site Generators"
[//end]: # "Autogenerated link references"